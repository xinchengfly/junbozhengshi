webpackJsonp([13],{"3Azt":function(e,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var t=s("vLgD"),a={serviceDetail:function(e,i){return t.a._get("/admin/setting.service/index",e,i)},editService:function(e,i){return t.a._post("/admin/setting.service/index",e,i)}},r={data:function(){return{loading:!1,form:{url:"",service_open:1,weixin_service:{}}}},created:function(){this.getParams()},methods:{getParams:function(){var e=this;a.serviceDetail({},!0).then(function(i){e.form=i.data.vars.values,e.form.service_open=parseInt(e.form.service_open),e.form.weixin_service.is_open=parseInt(e.form.weixin_service.is_open),e.loading=!1}).catch(function(i){e.loading=!1})},onSubmit:function(){var e=this,i=this.form;e.$refs.form.validate(function(s){s&&(e.loading=!0,a.editService(i,!0).then(function(i){e.loading=!1,e.$message({message:"恭喜你，设置成功",type:"success"}),e.$router.push("/setting/Index")}).catch(function(i){e.loading=!1}))})}}},l={render:function(){var e=this,i=e.$createElement,s=e._self._c||i;return s("div",{staticClass:"product-add"},[s("el-form",{ref:"form",attrs:{size:"small",model:e.form,"label-width":"150px"}},[s("div",{staticClass:"common-form"},[e._v("商城后台设置")]),e._v(" "),s("el-form-item",{attrs:{label:"商城系统名称",rules:[{required:!0,message:" "}],prop:"shop_name"}},[s("el-input",{staticClass:"max-w460",attrs:{placeholder:"商城名称"},model:{value:e.form.shop_name,callback:function(i){e.$set(e.form,"shop_name",i)},expression:"form.shop_name"}}),e._v(" "),s("div",{staticClass:"tips"},[e._v("\n        shop端商城名称，显示在登录页\n      ")])],1),e._v(" "),s("el-form-item",{attrs:{label:"商城登录背景",prop:"shop_bg_img"}},[s("el-input",{staticClass:"max-w460",attrs:{placeholder:"商城登录背景"},model:{value:e.form.shop_bg_img,callback:function(i){e.$set(e.form,"shop_bg_img",i)},expression:"form.shop_bg_img"}}),e._v(" "),s("div",{staticClass:"tips"},[e._v("\n        shop端商城登录背景，不填则为系统默认登录背景，填写网络地址\n      ")])],1),e._v(" "),s("div",{staticClass:"common-form"},[e._v("供应商后台设置")]),e._v(" "),s("el-form-item",{attrs:{label:"供应商系统名称",rules:[{required:!0,message:" "}],prop:"supplier_name"}},[s("el-input",{staticClass:"max-w460",attrs:{placeholder:"供应商系统名称"},model:{value:e.form.supplier_name,callback:function(i){e.$set(e.form,"supplier_name",i)},expression:"form.supplier_name"}}),e._v(" "),s("div",{staticClass:"tips"},[e._v("\n        供应商端名称，显示在登录页\n      ")])],1),e._v(" "),s("el-form-item",{attrs:{label:"供应商登录背景",prop:"supplier_bg_img"}},[s("el-input",{staticClass:"max-w460",attrs:{placeholder:"供应商登录背景"},model:{value:e.form.supplier_bg_img,callback:function(i){e.$set(e.form,"supplier_bg_img",i)},expression:"form.supplier_bg_img"}}),e._v(" "),s("div",{staticClass:"tips"},[e._v("\n        供应商端登录背景，不填则为系统默认登录背景，填写网络地址\n      ")])],1),e._v(" "),s("div",{staticClass:"common-form"},[e._v("客服设置")]),e._v(" "),s("el-form-item",{attrs:{label:"客服socket地址",rules:[{required:!0,message:" "}],prop:"url"}},[s("el-input",{staticClass:"max-w460",attrs:{placeholder:"客服请求"},model:{value:e.form.url,callback:function(i){e.$set(e.form,"url",i)},expression:"form.url"}}),e._v(" "),s("div",{staticClass:"tips"},[e._v("\n        填写格式为 wss://socket.com,如果是小程序，请前往小程序添加域名\n      ")])],1),e._v(" "),s("el-form-item",{attrs:{label:"是否开启在线客服"}},[s("div",[s("el-radio",{attrs:{label:1},model:{value:e.form.service_open,callback:function(i){e.$set(e.form,"service_open",i)},expression:"form.service_open"}},[e._v("开启")]),e._v(" "),s("el-radio",{attrs:{label:0},model:{value:e.form.service_open,callback:function(i){e.$set(e.form,"service_open",i)},expression:"form.service_open"}},[e._v("关闭")])],1)]),e._v(" "),s("div",{staticClass:"common-form"},[e._v("微信服务商支付设置")]),e._v(" "),s("el-form-item",{attrs:{label:"是否开启微信服务商支付"}},[s("div",[s("el-radio",{attrs:{label:1},model:{value:e.form.weixin_service.is_open,callback:function(i){e.$set(e.form.weixin_service,"is_open",i)},expression:"form.weixin_service.is_open"}},[e._v("开启")]),e._v(" "),s("el-radio",{attrs:{label:0},model:{value:e.form.weixin_service.is_open,callback:function(i){e.$set(e.form.weixin_service,"is_open",i)},expression:"form.weixin_service.is_open"}},[e._v("关闭")])],1)]),e._v(" "),1==e.form.weixin_service.is_open?[s("el-form-item",{attrs:{label:"服务商户号"}},[s("el-input",{staticClass:"max-w460",attrs:{placeholder:"服务商户号"},model:{value:e.form.weixin_service.mch_id,callback:function(i){e.$set(e.form.weixin_service,"mch_id",i)},expression:"form.weixin_service.mch_id"}}),e._v(" "),s("div",{staticClass:"tips"},[e._v("\n          填写服务商户号、10位数字\n        ")])],1),e._v(" "),s("el-form-item",{attrs:{label:"服务商支付秘钥apikey"}},[s("el-input",{staticClass:"max-w460",attrs:{placeholder:"服务商支付秘钥apikey"},model:{value:e.form.weixin_service.apikey,callback:function(i){e.$set(e.form.weixin_service,"apikey",i)},expression:"form.weixin_service.apikey"}}),e._v(" "),s("div",{staticClass:"tips"},[e._v("\n          填写服务商户支付秘钥apikey\n        ")])],1),e._v(" "),s("el-form-item",{attrs:{label:"服务商appid"}},[s("el-input",{staticClass:"max-w460",attrs:{placeholder:"服务商appid"},model:{value:e.form.weixin_service.app_id,callback:function(i){e.$set(e.form.weixin_service,"app_id",i)},expression:"form.weixin_service.app_id"}}),e._v(" "),s("div",{staticClass:"tips"},[e._v("\n          填写服务商户号绑定的公众号appid\n        ")])],1),e._v(" "),s("el-form-item",{attrs:{label:"apiclient_cert.pem"}},[s("el-input",{staticClass:"max-w460",attrs:{type:"textarea",rows:4,placeholder:"使用文本编辑器打开apiclient_cert.pem文件，将文件的全部内容复制进来"},model:{value:e.form.weixin_service.cert_pem,callback:function(i){e.$set(e.form.weixin_service,"cert_pem",i)},expression:"form.weixin_service.cert_pem"}}),e._v(" "),s("div",{staticClass:"tips"},[e._v("使用文本编辑器打开apiclient_key.pem文件，将文件的全部内容复制进来")])],1),e._v(" "),s("el-form-item",{attrs:{label:"apiclient_key.pem"}},[s("el-input",{staticClass:"max-w460",attrs:{type:"textarea",rows:4,placeholder:"使用文本编辑器打开apiclient_cert.pem文件，将文件的全部内容复制进来"},model:{value:e.form.weixin_service.key_pem,callback:function(i){e.$set(e.form.weixin_service,"key_pem",i)},expression:"form.weixin_service.key_pem"}}),e._v(" "),s("div",{staticClass:"tips"},[e._v("使用文本编辑器打开apiclient_key.pem文件，将文件的全部内容复制进来")])],1)]:e._e(),e._v(" "),s("div",{staticClass:"button-wrapper"},[s("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.onSubmit}},[e._v("提交")])],1)],2)],1)},staticRenderFns:[]};var o=s("VU/8")(r,l,!1,function(e){s("hrAQ")},null,null);i.default=o.exports},hrAQ:function(e,i){}});
//# sourceMappingURL=13.f47b1acb57495a2c60b1.js.map