(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-my_shop-my_live-add-add","components-upload-upload"],{"0cf7":function(t,e,i){"use strict";i.r(e);var n=i("4fbb"),a=i("fa59");for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("f4ab");var r,s=i("f0c5"),c=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"060faf12",null,!1,n["a"],r);e["default"]=c.exports},"107b":function(t,e,i){"use strict";i("99af"),i("c975"),i("a434"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={components:{},data:function(){return{loading:!0,no_more:!1,listData:[],page:1,list_rows:10,productIds:[]}},computed:{},props:["open","relationList"],watch:{open:function(t,e){t!=e&&t&&(this.start(),this.productIds=this.relationList)}},methods:{isrelation:function(t){return-1!=this.productIds.indexOf(t.product_id)},start:function(){this.loading=!0,this.no_more=!1,this.listData=[],this.page=1,this.list_rows=10,this.getData()},getData:function(){var t=this,e=t.page,i=t.list_rows;t.loading=!0,t._get("plus.agent.product/lists",{page:e||1,list_rows:i},(function(e){t.loading=!1,t.listData=t.listData.concat(e.data.list.data),t.last_page=e.data.list.last_page,e.data.list.last_page<=1&&(t.no_more=!0)}))},scrolltolowerFunc:function(){var t=this;if(t.bottomRefresh=!0,t.page++,t.loading=!0,t.page>t.last_page)return t.loading=!1,void(t.no_more=!0);t.getData()},relationProduct:function(t){var e=this.productIds.indexOf(t.product_id);-1!=e?this.productIds.splice(e,1):this.productIds.push(t.product_id)},closeFunc:function(){this.$emit("close",this.productIds)},gotoProduct:function(t){var e="pages/product/detail/detail?product_id="+t.product_id+"&room_id="+this.liveRoomDetal.room_id;this.gotoPage(e)},gotoOrder:function(){this.$parent.exit();var t="pages/order/myorder/myorder";this.gotoPage(t)}}};e.default=n},"1276a":function(t,e,i){"use strict";i.r(e);var n=i("41b3"),a=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},"1aa1":function(t,e,i){var n=i("443e");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("5cd6245c",n,!0,{sourceMap:!1,shadowMode:!1})},"2cf5":function(t,e,i){"use strict";var n=i("b03a"),a=i.n(n);a.a},"38d2":function(t,e,i){var n=i("a6d2");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("3ef5cf80",n,!0,{sourceMap:!1,shadowMode:!1})},"41b3":function(t,e,i){"use strict";i("4160"),i("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={data:function(){return{imageList:[]}},props:["num"],onLoad:function(){},mounted:function(){this.chooseImageFunc()},methods:{chooseImageFunc:function(){var t=this;uni.chooseImage({count:t.num||9,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(e){t.uploadFile(e.tempFilePaths)},fail:function(e){t.$emit("getImgs",null)},complete:function(t){}})},uploadFile:function(t){var e=this,i=0,n=t.length,a={token:uni.getStorageSync("token"),app_id:e.getAppId()};uni.showLoading({title:"上传中"}),t.forEach((function(t,o){uni.uploadFile({url:e.websiteUrl+"/index.php?s=/api/file.upload/image",filePath:t,name:"iFile",formData:a,success:function(t){var i="object"===typeof t.data?t.data:JSON.parse(t.data);1===i.code&&e.imageList.push(i.data)},complete:function(){i++,n===i&&(uni.hideLoading(),e.$emit("getImgs",e.imageList))}})}))}}};e.default=n},"443e":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */\r\n/* start--主题色--start */\r\n/* end--主题色--end */.product-background[data-v-060faf12]{position:fixed;top:0;right:0;bottom:0;left:0;background-color:rgba(0,0,0,.3);transition:background-color .3s ease,-webkit-transform 0s ease;transition:transform 0s ease,background-color .3s ease;transition:transform 0s ease,background-color .3s ease,-webkit-transform 0s ease;z-index:90}.product-background.close[data-v-060faf12]{background-color:transparent;-webkit-transform:translateY(100%);transform:translateY(100%)}.product-container[data-v-060faf12]{position:fixed;right:0;bottom:0;left:0;height:%?900?%;border-radius:%?16?% %?16?% 0 0;background:#fff;transition:-webkit-transform .2s ease;transition:transform .2s ease;transition:transform .2s ease,-webkit-transform .2s ease;z-index:99}.product-container.close[data-v-060faf12]{-webkit-transform:translateY(%?900?%);transform:translateY(%?900?%)}.product-container .head[data-v-060faf12]{height:%?90?%;line-height:%?90?%}.product-container uni-scroll-view[data-v-060faf12]{height:%?810?%}.product-picture[data-v-060faf12]{position:relative;width:%?160?%;height:%?160?%}.product-picture .active[data-v-060faf12]{position:absolute;display:block;right:0;bottom:0;left:0;height:%?40?%;line-height:%?40?%;background:#f6220c;color:#fff;text-align:center}.product-container uni-image[data-v-060faf12]{width:100%;height:100%}.product-container .product-list[data-v-060faf12]{padding:%?20?%}.product-container .product-list .item[data-v-060faf12]{width:100%;border-bottom:%?1?% solid #eee}',""]),t.exports=e},"4fbb":function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("v-uni-view",{staticClass:"product-background",class:{close:!t.open},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.closeFunc.apply(void 0,arguments)}}}),i("v-uni-view",{staticClass:"product-container",class:{close:!t.open}},[i("v-uni-view",{staticClass:"head d-c-c p-0-20 f30"},[t._v("关联商品")]),i("v-uni-scroll-view",{staticClass:"scroll-Y",attrs:{"scroll-y":"true"}},[i("v-uni-view",{staticClass:"product-list"},t._l(t.listData,(function(e,n){return i("v-uni-view",{key:n,staticClass:"item d-s-s ww100"},[i("v-uni-view",{staticClass:"product-picture"},[i("v-uni-image",{attrs:{src:e.product.image[0].file_path,mode:"aspectFill"}}),t.product_active==e.product.product_id?i("v-uni-text",{staticClass:"active"},[t._v("讲解中")]):t._e()],1),i("v-uni-view",{staticClass:"flex-1 ml20"},[i("v-uni-view",{staticClass:"text-ellipsis-2 f30"},[t._v(t._s(e.product.product_name))]),i("v-uni-view",{staticClass:"d-b-c p-20-0"},[i("v-uni-view",{staticClass:"red d-s-s d-c"},[i("v-uni-view",{staticClass:"d-s-c"},[i("v-uni-text",[t._v("佣金：")]),i("v-uni-text",{staticClass:"f24"},[t._v("￥")]),i("v-uni-text",{staticClass:"f34 fb"},[t._v(t._s(e.agent_money))])],1),i("v-uni-view",{staticClass:"gray3"},[t._v("售价："+t._s(e.product.product_price))])],1),i("v-uni-button",{staticClass:"relation",class:{"btn-red":t.isrelation(e)},attrs:{type:"primary"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.relationProduct(e)}}},[t._v(t._s(t.isrelation(e)?"已关联":"关联"))])],1)],1)],1)})),1)],1)],1)],1)},o=[]},"5a2e":function(t,e,i){"use strict";var n=i("4ea4");i("4160"),i("ac1f"),i("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("ce74")),o=n(i("7eb3")),r=n(i("0cf7")),s={components:{Upload:a.default,pickerViewDatetime:o.default,Products:r.default},data:function(){return{phoneHeight:0,scrollviewHigh:0,loading:!0,form:{name:"",share_img_id:null,share_img_path:"",start_time:"",end_time:"",productIds:[],category_id:0},isUpload:!1,file_type:null,cur_image:null,open_products:!1,relationList:[],categorylist:[],category:"",categorytype:[],index:0}},computed:{},onLoad:function(){},mounted:function(){this.init()},methods:{init:function(){var t=this;uni.getSystemInfo({success:function(e){t.phoneHeight=e.windowHeight;var i=uni.createSelectorQuery().select(".foot-btns");i.boundingClientRect((function(e){var i=t.phoneHeight-e.height;t.scrollviewHigh=i})).exec()}})},getCategory:function(){var t=this;t._post("plus.live.RoomApply/category",{},(function(e){e.data.list.forEach((function(e,i){t.categorylist.push(e.name)})),t.categorytype=e.data.list}))},showProducts:function(){this.open_products=!0},closeProducts:function(t){this.open_products=!1,this.relationList=t},formSubmit:function(t){var e=this;""!=e.form.name?/[<>*{}()^%$#@!~&= ]/.test(e.form.name)?wx.showModal({title:"提示",content:"标题不能为空或包含特殊字符",showCancel:!1}):new Date(e.form.start_time).getTime()>=new Date(e.form.end_time).getTime()?wx.showModal({title:"提示",content:"开始时间不能大于结束时间",showCancel:!1}):null!=e.form.share_img_id?(console.log(this.relationList),e.form.productIds=this.relationList,e._post("plus.live.RoomApply/addnotice",e.form,(function(t){uni.showToast({title:"创建成功"}),uni.navigateBack({delta:1})}))):wx.showModal({title:"提示",content:"请上传封面图",showCancel:!1}):wx.showModal({title:"提示",content:"请输入标题",showCancel:!1})},getStartTime:function(t){this.form.start_time=t+":00"},getStartEnd:function(t){this.form.end_time=t+":59"},openUpload:function(t){this.cur_imagetype=t,this.file_type="image",this.isUpload=!0},getImgsFunc:function(t){t&&"undefined"!=typeof t&&null!=this.cur_imagetype&&(this.form[this.cur_imagetype+"id"]=t[0]["file_id"],this.form[this.cur_imagetype+"path"]=t[0]["file_path"],this.cur_imagetype=null),this.isUpload=!1},bindPickerChange:function(t){this.index=t.target.value,this.category=this.categorylist[this.index],this.form.category_id=this.categorytype[this.index].category_id}}};e.default=s},"7b77":function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.visible?i("v-uni-picker-view",{staticClass:"p5",attrs:{value:t.value},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.bindChange.apply(void 0,arguments)}}},[i("v-uni-picker-view-column",t._l(t.years,(function(e,n){return i("v-uni-view",{key:n,staticClass:"item"},[t._v(t._s(e)+"年")])})),1),i("v-uni-picker-view-column",t._l(t.months,(function(e,n){return i("v-uni-view",{key:n,staticClass:"item"},[t._v(t._s(e)+"月")])})),1),i("v-uni-picker-view-column",t._l(t.days,(function(e,n){return i("v-uni-view",{key:n,staticClass:"item"},[t._v(t._s(e)+"日")])})),1),i("v-uni-picker-view-column",t._l(t.hours,(function(e,n){return i("v-uni-view",{key:n,staticClass:"item"},[t._v(t._s(e)+"时")])})),1),i("v-uni-picker-view-column",t._l(t.minutes,(function(e,n){return i("v-uni-view",{key:n,staticClass:"item"},[t._v(t._s(e)+"分")])})),1)],1):t._e()},o=[]},"7eb3":function(t,e,i){"use strict";i.r(e);var n=i("7b77"),a=i("a5e0");for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("996a");var r,s=i("f0c5"),c=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"2c915ce1",null,!1,n["a"],r);e["default"]=c.exports},"996a":function(t,e,i){"use strict";var n=i("38d2"),a=i.n(n);a.a},a09e:function(t,e,i){"use strict";i.r(e);var n=i("d539"),a=i("b08c");for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("2cf5");var r,s=i("f0c5"),c=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"175a659e",null,!1,n["a"],r);e["default"]=c.exports},a47b:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,".add-live-room[data-v-175a659e]{padding:%?20?%;background:#fff}.add-live-room .form-level[data-v-175a659e]{font-size:%?30?%;justify-content:flex-start;align-items:flex-start;flex-direction:column}.add-live-room .form-level .level-name[data-v-175a659e]{width:%?240?%;color:#000}.add-live-room .level-content[data-v-175a659e]{margin-top:%?20?%;width:100%}.add-live-room .level-content uni-input[data-v-175a659e]{margin-bottom:%?20?%;border:%?1?% solid #cacaca;padding:%?20?%}.relation-product[data-v-175a659e]{height:%?90?%;padding:0 %?10?%;line-height:%?90?%;border-radius:%?16?%;border:%?1?% solid #ccc}.add-video-btns[data-v-175a659e]{padding:0;z-index:80}.add-video-btns uni-button[data-v-175a659e]{width:100%;height:%?90?%;line-height:%?90?%;background:#e2231a;color:#fff;border-radius:0}.typepicker[data-v-175a659e]{background-color:#e2231a;color:#fff;width:%?200?%;height:%?75?%;border-radius:%?20?%;text-align:center;line-height:%?75?%;padding-left:%?15?%;font-size:%?25?%;\r\n\t/* border: 1rpx solid #CACACA; */margin:25 %?0?%}.video_img[data-v-175a659e]{width:%?640?%;height:%?480?%;display:block}",""]),t.exports=e},a5e0:function(t,e,i){"use strict";i.r(e);var n=i("bbe7"),a=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},a6d2:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,"uni-picker-view[data-v-2c915ce1]{width:100%;height:%?240?%;text-align:center;line-height:%?70?%;border:%?1?% solid #ccc;padding:%?10?% %?2?%}",""]),t.exports=e},b03a:function(t,e,i){var n=i("a47b");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("c07d4400",n,!0,{sourceMap:!1,shadowMode:!1})},b08c:function(t,e,i){"use strict";i.r(e);var n=i("5a2e"),a=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},bbe7:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={data:function(){for(var t=new Date,e=[],i=t.getFullYear(),n=[],a=t.getMonth()+1,o=[],r=t.getDate(),s=[],c=t.getHours(),u=[],l=t.getMinutes(),d=t.getFullYear();d<=2030;d++)e.push(d);for(var f=1;f<=12;f++)n.push(f);for(var v=1;v<=31;v++)o.push(v);for(var p=1;p<=24;p++)s.push(p);for(var h=1;h<=60;h++)u.push(h);return{title:"picker-view",years:e,year:i,months:n,month:a,days:o,day:r,hours:s,hour:c,minutes:u,minute:l,value:[0,a-1,r-1,c,l],visible:!0}},created:function(){this.emitFunc(this.value)},methods:{bindChange:function(t){var e=t.detail.value;this.emitFunc(e)},emitFunc:function(t){this.year=this.years[t[0]],this.month=this.months[t[1]],this.day=this.days[t[2]],this.hour=this.hours[t[3]],this.minute=this.minutes[t[4]],this.$emit("get",this.year+"-"+this.month+"-"+this.day+" "+this.hour+":"+this.minute)}}};e.default=n},ce74:function(t,e,i){"use strict";i.r(e);var n=i("d2e3"),a=i("1276a");for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);var r,s=i("f0c5"),c=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"55ec37e4",null,!1,n["a"],r);e["default"]=c.exports},d2e3:function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view")},o=[]},d539:function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("v-uni-scroll-view",{staticClass:"pr scroll-Y",style:"height:"+t.scrollviewHigh+"px;",attrs:{"scroll-y":"true","lower-threshold":"50"}},[i("v-uni-view",{staticClass:"add-live-room"},[i("v-uni-view",{staticClass:"form-level"},[i("v-uni-view",{staticClass:"level-name "},[t._v("标题")]),i("v-uni-view",{staticClass:"level-content"},[i("v-uni-input",{attrs:{type:"text",placeholder:"请输入标题"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1)],1),i("v-uni-view",{staticClass:"form-level"},[i("v-uni-view",{staticClass:"level-name"},[t._v("直播间开始时间")]),i("v-uni-view",{staticClass:"level-content"},[i("pickerViewDatetime",{on:{get:function(e){arguments[0]=e=t.$handleEvent(e),t.getStartTime.apply(void 0,arguments)}}})],1)],1),i("v-uni-view",{staticClass:"form-level pt60"},[i("v-uni-view",{staticClass:"level-name"},[t._v("预告封面")]),i("v-uni-view",{staticClass:"level-content"},[t.form.share_img_id?i("v-uni-view",{staticClass:"video-cover",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.openUpload("share_img_")}}},[i("v-uni-image",{staticClass:"video_img",attrs:{src:t.form.share_img_path,mode:"aspectFit"}})],1):i("v-uni-view",{staticClass:"upload-btn d-c-c d-c",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.openUpload("share_img_")}}},[i("v-uni-text",{staticClass:"icon iconfont icon-xiangji"}),i("v-uni-text",{staticClass:"gray9"},[t._v("上传图片")])],1)],1)],1)],1)],1),i("v-uni-view",{staticClass:"foot-btns add-video-btns"},[i("v-uni-button",{staticClass:"btn-rose",attrs:{type:"primary"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.formSubmit.apply(void 0,arguments)}}},[t._v("立即创建")])],1),i("Products",{attrs:{open:t.open_products,relationList:t.relationList},on:{close:function(e){arguments[0]=e=t.$handleEvent(e),t.closeProducts.apply(void 0,arguments)}}}),t.isUpload?i("Upload",{attrs:{type:t.file_type},on:{getImgs:function(e){arguments[0]=e=t.$handleEvent(e),t.getImgsFunc.apply(void 0,arguments)}}}):t._e()],1)},o=[]},f4ab:function(t,e,i){"use strict";var n=i("1aa1"),a=i.n(n);a.a},fa59:function(t,e,i){"use strict";i.r(e);var n=i("107b"),a=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a}}]);