(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-address-edit-edit"],{"132b":function(e,t,i){"use strict";var a=i("4ea4");i("4160"),i("e25e"),i("ac1f"),i("1276"),i("159b"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(i("17ae")),n={components:{mpvueCityPicker:r.default},data:function(){return{cityPickerValueDefault:[0,0,0],selectCity:"选择省,市,区",province_id:0,city_id:0,region_id:0,address_id:0,address:{},region:{},is_load:!1,province:[],city:[],area:[],delta:1}},onLoad:function(e){this.delta=e.delta,this.address_id=e.address_id},mounted:function(){this.getData()},methods:{getData:function(){var e=this,t=e.address_id;e._get("user.address/detail",{address_id:t},(function(t){e.address=t.data.detail,e.address_id=t.data.detail.address_id,e.province_id=t.data.detail.province_id,e.city_id=t.data.detail.city_id,e.region_id=t.data.detail.region_id,e.region=t.data.region;var i="";e.region.forEach((function(e){i+=e}));e.selectCity=i,e.province=t.data.regionData[0],e.city=t.data.regionData[1],e.area=t.data.regionData[2],e.is_load=!0}))},formSubmit:function(e){var t=this,i=e.detail.value;return i.province_id=t.province_id,i.city_id=t.city_id,i.region_id=t.region_id,i.address_id=t.address_id,i.region=t.region,""==i.name?(uni.showToast({title:"请输入收货人姓名",duration:1e3,icon:"none"}),!1):""==i.phone?(uni.showToast({title:"请输入手机号码",duration:1e3,icon:"none"}),!1):0!=i.province_id&&0!=i.city_id&&!i.region_id||""!=i.detail?void t._post("user.address/edit",i,(function(e){t.showSuccess(e.msg,(function(){console.log(t.delta),uni.navigateBack({delta:parseInt(t.delta)})}))})):(uni.showToast({title:"请选择完整省市区",duration:1e3,icon:"none"}),!1)},formReset:function(e){console.log("清空数据")},showMulLinkageThreePicker:function(){this.$refs.mpvueCityPicker.show()},onConfirm:function(e){this.region=e.label.split(","),this.selectCity=e.label,this.province_id=e.cityCode[0],this.city_id=e.cityCode[1],this.region_id=e.cityCode[2]}}};t.default=n},"17ae":function(e,t,i){"use strict";i.r(t);var a=i("4c52"),r=i("9dd3");for(var n in r)"default"!==n&&function(e){i.d(t,e,(function(){return r[e]}))}(n);i("ec59");var s,c=i("f0c5"),o=Object(c["a"])(r["default"],a["b"],a["c"],!1,null,"16e1b5ec",null,!1,a["a"],s);t["default"]=o.exports},"182a":function(e,t,i){var a=i("f00f");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var r=i("4f06").default;r("d34d5e0e",a,!0,{sourceMap:!1,shadowMode:!1})},"2bfd":function(e,t,i){"use strict";var a=i("182a"),r=i.n(a);r.a},4036:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={data:function(){return{pickerValue:[0,0,0],provinceDataList:[],cityDataList:[],areaDataList:[],showPicker:!1,provinceData:[],cityData:[],areaData:[]}},created:function(){this.init()},props:{pickerValueDefault:{type:Array,default:function(){return[0,0,0]}},themeColor:String,province:{type:Array},city:{type:Array},area:{type:Array}},watch:{pickerValueDefault:function(){this.init()}},methods:{init:function(){this.provinceData=this.province,this.cityData=this.city,this.areaData=this.area,this.handPickValueDefault(),this.provinceDataList=this.provinceData,this.cityDataList=this.cityData[this.pickerValueDefault[0]],this.areaDataList=this.areaData[this.pickerValueDefault[0]][this.pickerValueDefault[1]],this.pickerValue=this.pickerValueDefault},show:function(){var e=this;setTimeout((function(){e.showPicker=!0}),0)},maskClick:function(){},pickerCancel:function(){this.showPicker=!1,this._$emit("onCancel")},pickerConfirm:function(e){this.showPicker=!1,this._$emit("onConfirm")},showPickerView:function(){this.showPicker=!0},handPickValueDefault:function(){this.pickerValueDefault!==[0,0,0]&&(this.pickerValueDefault[0]>this.provinceData.length-1&&(this.pickerValueDefault[0]=this.provinceData.length-1),this.pickerValueDefault[1]>this.cityData[this.pickerValueDefault[0]].length-1&&(this.pickerValueDefault[1]=this.cityData[this.pickerValueDefault[0]].length-1),this.pickerValueDefault[2]>this.areaData[this.pickerValueDefault[0]][this.pickerValueDefault[1]].length-1&&(this.pickerValueDefault[2]=this.areaData[this.pickerValueDefault[0]][this.pickerValueDefault[1]].length-1))},pickerChange:function(e){var t=e.mp.detail.value;this.pickerValue[0]!==t[0]?(this.cityDataList=this.cityData[t[0]],this.areaDataList=this.areaData[t[0]][0],t[1]=0,t[2]=0):this.pickerValue[1]!==t[1]&&(this.areaDataList=this.areaData[t[0]][t[1]],t[2]=0),this.pickerValue=t,this._$emit("onChange")},_$emit:function(e){var t={label:this._getLabel(),value:this.pickerValue,cityCode:this._getCityCode()};this.$emit(e,t)},_getLabel:function(){var e=this.provinceDataList[this.pickerValue[0]].label+","+this.cityDataList[this.pickerValue[1]].label+","+this.areaDataList[this.pickerValue[2]].label;return e},_getCityCode:function(){var e=[0,0,0];return e[0]=this.provinceDataList[this.pickerValue[0]].value,e[1]=this.cityDataList[this.pickerValue[1]].value,e[2]=this.areaDataList[this.pickerValue[2]].value,e}}};t.default=a},"4c52":function(e,t,i){"use strict";var a;i.d(t,"b",(function(){return r})),i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){return a}));var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"mpvue-picker"},[i("div",{class:{pickerMask:e.showPicker},attrs:{catchtouchmove:"true"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.maskClick.apply(void 0,arguments)}}}),i("div",{staticClass:"mpvue-picker-content ",class:{"mpvue-picker-view-show":e.showPicker}},[i("div",{staticClass:"mpvue-picker__hd",attrs:{catchtouchmove:"true"}},[i("div",{staticClass:"mpvue-picker__action",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.pickerCancel.apply(void 0,arguments)}}},[e._v("取消")]),i("div",{staticClass:"mpvue-picker__action",style:{color:e.themeColor},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.pickerConfirm.apply(void 0,arguments)}}},[e._v("确定")])]),i("v-uni-picker-view",{staticClass:"mpvue-picker-view",attrs:{"indicator-style":"height: 40px;",value:e.pickerValue},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.pickerChange.apply(void 0,arguments)}}},[[i("v-uni-picker-view-column",e._l(e.provinceDataList,(function(t,a){return i("div",{key:a,staticClass:"picker-item"},[e._v(e._s(t.label))])})),0),i("v-uni-picker-view-column",e._l(e.cityDataList,(function(t,a){return i("div",{key:a,staticClass:"picker-item"},[e._v(e._s(t.label))])})),0),i("v-uni-picker-view-column",e._l(e.areaDataList,(function(t,a){return i("div",{key:a,staticClass:"picker-item"},[e._v(e._s(t.label))])})),0)]],2)],1)])},n=[]},6930:function(e,t,i){"use strict";i.r(t);var a=i("132b"),r=i.n(a);for(var n in a)"default"!==n&&function(e){i.d(t,e,(function(){return a[e]}))}(n);t["default"]=r.a},"7eab":function(e,t,i){"use strict";i.r(t);var a=i("e0f5"),r=i("6930");for(var n in r)"default"!==n&&function(e){i.d(t,e,(function(){return r[e]}))}(n);i("2bfd");var s,c=i("f0c5"),o=Object(c["a"])(r["default"],a["b"],a["c"],!1,null,"19506ef5",null,!1,a["a"],s);t["default"]=o.exports},"91a2":function(e,t,i){var a=i("24fb");t=a(!1),t.push([e.i,'.pickerMask[data-v-16e1b5ec]{position:fixed;z-index:1000;top:0;right:0;left:0;bottom:0;background:rgba(0,0,0,.6)}.mpvue-picker-content[data-v-16e1b5ec]{position:fixed;bottom:0;left:0;width:100%;transition:all .3s ease;-webkit-transform:translateY(100%);transform:translateY(100%);z-index:3000}.mpvue-picker-view-show[data-v-16e1b5ec]{-webkit-transform:translateY(0);transform:translateY(0)}.mpvue-picker__hd[data-v-16e1b5ec]{display:flex;padding:9px 15px;background-color:#fff;position:relative;text-align:center;font-size:17px}.mpvue-picker__hd[data-v-16e1b5ec]:after{content:" ";position:absolute;left:0;bottom:0;right:0;height:1px;border-bottom:1px solid #e5e5e5;color:#e5e5e5;-webkit-transform-origin:0 100%;transform-origin:0 100%;-webkit-transform:scaleY(.5);transform:scaleY(.5)}.mpvue-picker__action[data-v-16e1b5ec]{display:block;flex:1;color:#1aad19}.mpvue-picker__action[data-v-16e1b5ec]:first-child{text-align:left;color:#888}.mpvue-picker__action[data-v-16e1b5ec]:last-child{text-align:right}.picker-item[data-v-16e1b5ec]{text-align:center;line-height:40px;text-overflow:ellipsis;white-space:nowrap;font-size:16px}.mpvue-picker-view[data-v-16e1b5ec]{position:relative;bottom:0;left:0;width:100%;height:238px;background-color:#fff}',""]),e.exports=t},"9dd3":function(e,t,i){"use strict";i.r(t);var a=i("4036"),r=i.n(a);for(var n in a)"default"!==n&&function(e){i.d(t,e,(function(){return a[e]}))}(n);t["default"]=r.a},e0f5:function(e,t,i){"use strict";var a;i.d(t,"b",(function(){return r})),i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){return a}));var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"address-form"},[i("v-uni-form",{on:{submit:function(t){arguments[0]=t=e.$handleEvent(t),e.formSubmit.apply(void 0,arguments)},reset:function(t){arguments[0]=t=e.$handleEvent(t),e.formReset.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"bg-white p-0-30 f30"},[i("v-uni-view",{staticClass:"d-s-c border-b-d9"},[i("v-uni-text",{staticClass:"key-name"},[e._v("收货人")]),i("v-uni-input",{staticClass:"ml20 f32 flex-1 p-30-0",attrs:{name:"name",type:"text","placeholder-class":"grary9",placeholder:"请输入收货人姓名"},model:{value:e.address.name,callback:function(t){e.$set(e.address,"name",t)},expression:"address.name"}})],1),i("v-uni-view",{staticClass:"d-s-c border-b-d9"},[i("v-uni-text",{staticClass:"key-name"},[e._v("联系方式")]),i("v-uni-input",{staticClass:"ml20 f32 flex-1 p-30-0",attrs:{name:"phone",type:"text","placeholder-class":"grary9",placeholder:"请输入收货人手机号"},model:{value:e.address.phone,callback:function(t){e.$set(e.address,"phone",t)},expression:"address.phone"}})],1),i("v-uni-view",{staticClass:"d-s-c border-b-d9"},[i("v-uni-text",{staticClass:"key-name"},[e._v("所在地区")]),i("v-uni-view",{staticClass:"input-box flex-1"},[i("v-uni-input",{staticClass:"ml20 f32 flex-1 p-30-0",attrs:{type:"text",value:"","placeholder-class":"grary9",placeholder:"",disabled:"true"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.showMulLinkageThreePicker.apply(void 0,arguments)}},model:{value:e.selectCity,callback:function(t){e.selectCity=t},expression:"selectCity"}})],1)],1),i("v-uni-view",{staticClass:"d-s-c border-b-d9"},[i("v-uni-text",{staticClass:"key-name"},[e._v("详细地址")]),i("v-uni-textarea",{staticClass:"ml20 flex-1 f32 p-30-0 lh150",attrs:{name:"detail","placeholder-class":"grary9","auto-height":!0,placeholder:"请输入街道小区楼牌号等"},model:{value:e.address.detail,callback:function(t){e.$set(e.address,"detail",t)},expression:"address.detail"}})],1)],1),i("v-uni-view",{staticClass:"p30"},[i("v-uni-button",{staticClass:"btn-gcred f32 mt60 addBtn",attrs:{type:"primary","form-type":"submit"}},[e._v("保存")])],1)],1),e.is_load?i("mpvue-city-picker",{ref:"mpvueCityPicker",attrs:{province:e.province,city:e.city,area:e.area,pickerValueDefault:e.cityPickerValueDefault},on:{onConfirm:function(t){arguments[0]=t=e.$handleEvent(t),e.onConfirm.apply(void 0,arguments)}}}):e._e()],1)},n=[]},ec59:function(e,t,i){"use strict";var a=i("fbe9"),r=i.n(a);r.a},f00f:function(e,t,i){var a=i("24fb");t=a(!1),t.push([e.i,"uni-page-body[data-v-19506ef5]{background-color:#fff}.address-form[data-v-19506ef5]{border-top:%?16?% solid #f2f2f2}.address-form .key-name[data-v-19506ef5]{width:%?140?%;font-size:%?32?%}.address-form .btn-red[data-v-19506ef5]{height:%?88?%;line-height:%?88?%;border-radius:%?44?%;box-shadow:0 %?8?% %?16?% 0 rgba(226,35,26,.6)}.addBtn[data-v-19506ef5]{height:%?80?%;line-height:%?80?%;border-radius:%?40?%}body.?%PAGE?%[data-v-19506ef5]{background-color:#fff}",""]),e.exports=t},fbe9:function(e,t,i){var a=i("91a2");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var r=i("4f06").default;r("97454a60",a,!0,{sourceMap:!1,shadowMode:!1})}}]);