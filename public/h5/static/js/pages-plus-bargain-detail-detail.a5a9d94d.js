(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-plus-bargain-detail-detail"],{"19d8":function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return a}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"countdown"},[null==t.config.type?[0==t.status?i("v-uni-text",[t._v(t._s(t.title))]):t._e(),1==t.status?i("v-uni-text",[t._v("活动具体时间：")]):t._e(),2==t.status?i("v-uni-text",[t._v("活动结束时间：")]):t._e(),i("v-uni-text",{staticClass:"box"},[t._v(t._s(t.day))]),i("v-uni-text",{staticClass:"p-0-10"},[t._v("天")]),i("v-uni-text",{staticClass:"box"},[t._v(t._s(t.hour))]),i("v-uni-text",{staticClass:"p-0-10"},[t._v(":")]),i("v-uni-text",{staticClass:"box"},[t._v(t._s(t.minute))]),i("v-uni-text",{staticClass:"p-0-10"},[t._v(":")]),i("v-uni-text",{staticClass:"box"},[t._v(t._s(t.second))]),i("v-uni-text",{staticClass:"p-0-10"})]:t._e(),"text"===t.config.type?[t._v(t._s(t.title)+t._s(parseInt(24*t.day)+parseInt(t.hour))+":"+t._s(t.minute)+":"+t._s(t.second))]:t._e()],2)},o=[]},2516:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return a}));var a={countdown:i("ea0f").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"bargain-detail"},[t.loadding?t._e():i("v-uni-scroll-view",{staticClass:"scroll-Y",style:"height:"+t.scrollviewHigh+"px;",attrs:{"scroll-y":"true"}},[i("v-uni-view",{staticClass:"product-pic"},[i("v-uni-swiper",{staticClass:"swiper",attrs:{"indicator-dots":t.indicatorDots,autoplay:t.autoplay,interval:t.interval,duration:t.duration}},t._l(t.detail.product.image,(function(t,e){return i("v-uni-swiper-item",{key:e},[i("v-uni-image",{attrs:{src:t.file_path,mode:"aspectFit"}})],1)})),1)],1),i("v-uni-view",{staticClass:"bg-white m20 p30 br12"},[i("v-uni-view",{staticClass:"price-wrap"},[i("v-uni-view",{staticClass:"left"},[[i("v-uni-view",{staticClass:"new-price"},[i("v-uni-text",{staticClass:"f24 redF6"},[t._v("￥")]),i("v-uni-text",{staticClass:"num"},[t._v(t._s(t.detail.bargain_price))])],1),i("v-uni-text",{staticClass:"old-price"},[t._v("¥"+t._s(t.detail.line_price))])]],2)],1),i("v-uni-view",{staticClass:"product-name"},[t._v(t._s(t.detail.product.product_name))]),i("v-uni-view",{},[i("v-uni-view",{staticClass:"limited-spike d-b-c"},[i("v-uni-text",{staticClass:"left-name"},[i("v-uni-text",{staticClass:"already-sale"},[t._v("已有"+t._s(t.detail.product_sales)+"人砍价成功")])],1),i("v-uni-view",{staticClass:"right"},[i("countdown",{ref:"countdown",attrs:{config:t.countdownConfig},on:{returnVal:function(e){arguments[0]=e=t.$handleEvent(e),t.returnValFunc.apply(void 0,arguments)}}})],1)],1)],1),i("v-uni-view",{staticClass:"d-b-c f24 gray3 mt20",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.openRule.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"f24 gray3"},[t._v("邀请朋友帮忙砍价，超低价购买心仪之物")]),i("v-uni-view",[i("v-uni-text",[t._v("玩法详情")]),i("v-uni-text",{staticClass:"icon iconfont icon-jiantou",staticStyle:{color:"#333333","font-size":"25rpx"}})],1)],1)],1),i("v-uni-view",{staticClass:"m20 br12 o-h p-0-30 bg-white"},[20==t.detail.spec_type?i("v-uni-view",{staticClass:"already-choice",class:""!=t.detail.server?"border-b-d9":"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.openPopup("order")}}},[i("v-uni-view",{staticClass:"group-hd"},[i("v-uni-view",{staticClass:"left"},[i("v-uni-text",{staticClass:"min-name gray9"},[t._v("选择：")])],1),i("v-uni-view",{staticClass:"flex-1 p-0-20 center-content f28 text-ellipsis o-h"},[t._v(t._s(t.alreadyChioce))]),i("v-uni-view",{staticClass:"right"},[i("v-uni-text",{staticClass:"icon iconfont icon-jiantou",staticStyle:{"font-size":"22rpx",color:"#9A9A9A"}})],1)],1)],1):t._e(),""!=t.detail.server?i("v-uni-view",{staticClass:"already-choice",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showGuarantee.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"group-hd"},[i("v-uni-view",{staticClass:"left"},[i("v-uni-text",{staticClass:"min-name gray9"},[t._v("服务：")])],1),i("v-uni-view",{staticClass:"flex-1 p-0-20 center-content f28 text-ellipsis o-h"},[t._v(t._s(t.serverList))]),i("v-uni-view",{staticClass:"right"},[i("v-uni-text",{staticClass:"icon iconfont icon-jiantou",staticStyle:{"font-size":"22rpx",color:"#9A9A9A"}})],1)],1)],1):t._e()],1),t.store_open?i("v-uni-view",{staticClass:"shop_head_info"},[i("v-uni-view",{staticClass:"shop_list_body_item_shop"},[i("v-uni-view",{staticClass:"shop_list_body_item_shop_logo"},[i("v-uni-image",{attrs:{src:t.shop_info.logos,mode:""}})],1),i("v-uni-view",{staticClass:"shop_list_body_item_shop_info flex-1"},[i("v-uni-view",{staticClass:"f32 title fb"},[t._v(t._s(t.shop_info.name))]),i("v-uni-view",{staticClass:"f26 brand gray9"},[t._v("主营品牌： "+t._s(t.shop_info.category_name))]),i("v-uni-view",{staticClass:"f26 sales gray9"},[t._v("销量："+t._s(t.shop_info.product_sales)+"件")])],1),i("v-uni-view",{staticClass:"shop_list_body_item_shop_others"},[i("v-uni-view",{staticClass:"f26 collect"},[t._v("店铺评分："),i("v-uni-text",{staticClass:"fb redF6"},[t._v(t._s(t.shop_info.server_score))])],1),i("v-uni-button",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goto_shop()}}},[t._v("进店看看")])],1)],1)],1):t._e(),i("v-uni-view",{staticClass:"product-content"},[i("v-uni-view",{staticClass:"group-hd border-b-e"},[i("v-uni-view",{staticClass:"d-s-c"},[i("v-uni-view",{staticClass:"pro_nameline"}),i("v-uni-text",{staticClass:"min-name  f32 fb"},[t._v("商品介绍")])],1)],1),i("v-uni-view",{staticClass:"content-box",domProps:{innerHTML:t._s(t.detail.product.content)}})],1)],1),i("v-uni-view",{staticClass:"btns-wrap d-s-c d-stretch"},[t.loadding?t._e():[i("v-uni-view",{staticClass:"customer-service d-c-c"},[i("v-uni-view",{staticClass:"icon-box d-c-c",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.gotoPage("/pages/index/index")}}},[i("v-uni-button",{staticClass:"d-c-c d-c bg-white"},[i("v-uni-text",{staticClass:"btn_btom pr icon iconfont icon-Homehomepagemenu gray3",staticStyle:{height:"50rpx","line-height":"60rpx"}}),i("v-uni-text",{staticClass:"f22 gray3",staticStyle:{height:"50rpx","line-height":"40rpx"}},[t._v("首页")])],1)],1),i("v-uni-view",{staticClass:"icon-box",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.openMaservice.apply(void 0,arguments)}}},[i("v-uni-button",{staticClass:"d-c-c d-c"},[i("v-uni-text",{staticClass:"icon iconfont icon-kefu2 gray3",staticStyle:{height:"50rpx","line-height":"60rpx"}}),i("v-uni-text",{staticClass:"f22 gray3",staticStyle:{height:"50rpx","line-height":"40rpx"}},[t._v("客服")])],1)],1)],1),i("v-uni-view",{staticClass:"buy-alone flex-1 d-c-c d-c",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.gotoProducntDetail()}}},[i("v-uni-text",[t._v("￥"+t._s(t.detail.product.product_price))]),i("v-uni-button",{attrs:{type:"primary"}},[t._v("单独购买")])],1),i("v-uni-view",{staticClass:"make-group flex-1 d-c-c d-c",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.openPopup("order")}}},[i("v-uni-text",[t._v("￥"+t._s(t.detail.bargain_price))]),i("v-uni-button",{staticClass:"buy",attrs:{type:"primary"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.openPopup("order")}}},[t._v("砍价购")])],1)]],2),i("spec",{attrs:{isPopup:t.isPopup,productModel:t.productModel},on:{confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.confirm.apply(void 0,arguments)},close:function(e){arguments[0]=e=t.$handleEvent(e),t.closePopup.apply(void 0,arguments)}}}),i("Rule",{attrs:{isRule:t.isRule,setting:t.setting},on:{close:function(e){arguments[0]=e=t.$handleEvent(e),t.closeRule.apply(void 0,arguments)}}}),t.isMpservice?i("Mpservice",{attrs:{isMpservice:t.isMpservice},on:{close:function(e){arguments[0]=e=t.$handleEvent(e),t.closeMpservice.apply(void 0,arguments)}}}):t._e(),i("guarantee",{attrs:{isguarantee:t.isguarantee,server:t.detail.server},on:{close:function(e){arguments[0]=e=t.$handleEvent(e),t.closeGuarantee.apply(void 0,arguments)}}})],1)},o=[]},"25da":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */\r\n/* start--主题色--start */\r\n/* end--主题色--end */.product-popup .popup-bg[data-v-ccb90de0]{position:fixed;top:0;right:0;bottom:0;left:0;background:rgba(0,0,0,.6);z-index:99}.product-popup .main[data-v-ccb90de0]{position:fixed;width:100%;bottom:0;min-height:%?200?%;background-color:#fff;-webkit-transform:translate3d(0,%?980?%,0);transform:translate3d(0,%?980?%,0);transition:-webkit-transform .2s cubic-bezier(0,0,.25,1);transition:transform .2s cubic-bezier(0,0,.25,1);transition:transform .2s cubic-bezier(0,0,.25,1),-webkit-transform .2s cubic-bezier(0,0,.25,1);border-radius:%?12?%}.product-popup.open .main[data-v-ccb90de0]{-webkit-transform:translateZ(0);transform:translateZ(0);z-index:99}.product-popup.close .popup-bg[data-v-ccb90de0]{display:none}.product-popup.close .main[data-v-ccb90de0]{display:none;z-index:-1}.product-popup .header[data-v-ccb90de0]{min-height:%?120?%;padding:%?40?% 0 %?40?% %?250?%;position:relative;border-bottom:1px solid #eee}.product-popup .header .avt[data-v-ccb90de0]{position:absolute;top:%?40?%;left:%?30?%;width:%?200?%;height:%?200?%;border:2px solid #fff;background:#fff;border-radius:%?12?%}.product-popup .header .stock[data-v-ccb90de0]{font-size:%?26?%;color:#999}.product-popup .close-btn[data-v-ccb90de0]{position:absolute;width:%?40?%;height:%?40?%;top:%?40?%;right:%?30?%}.product-popup .price[data-v-ccb90de0]{height:%?80?%;color:#f6220c;font-size:%?30?%}.product-popup .price .num[data-v-ccb90de0]{padding:0 %?4?%;font-size:%?50?%}.product-popup .old-price[data-v-ccb90de0]{margin-left:%?10?%;font-size:%?30?%;color:#999;text-decoration:line-through}.product-popup .body[data-v-ccb90de0]{padding:%?20?% %?30?% %?39?% %?30?%;overflow-y:auto;padding-bottom:%?88?%}.product-popup .level-box[data-v-ccb90de0]{display:flex;justify-content:space-between;align-items:center}.product-popup .level-box .key[data-v-ccb90de0]{font-size:%?24?%;color:#999}.product-popup .level-box .icon-box[data-v-ccb90de0]{width:%?48?%;height:%?40?%;background:#e0e0e0}.product-popup .num-wrap .iconfont[data-v-ccb90de0]{color:#666}.product-popup .num-wrap.no-stock .iconfont[data-v-ccb90de0]{color:#ccc}.product-popup .level-box .text-wrap[data-v-ccb90de0]{margin:0 %?4?%;height:%?60?%;border:none;background:#fff}.product-popup .level-box .text-wrap uni-input[data-v-ccb90de0]{padding:0 %?10?%;height:%?60?%;line-height:%?60?%;width:%?80?%;text-align:center;font-size:%?32?%}.specs .specs-list[data-v-ccb90de0]{display:flex;justify-content:flex-start;align-items:center;flex-wrap:wrap}.specs .specs-list uni-button[data-v-ccb90de0]{margin-right:%?10?%;margin-bottom:%?10?%;font-size:%?24?%}.specs .specs-list uni-button[data-v-ccb90de0]:after,\r\n.product-popup .btns uni-button[data-v-ccb90de0],\r\n.product-popup .btns uni-button[data-v-ccb90de0]:after{border:0;border-radius:0;margin-bottom:%?55?%}.product-popup .btns .confirm-btn[data-v-ccb90de0]{width:%?710?%;height:%?80?%;background:linear-gradient(90deg,#ff6b6b 4%,#f6220c);border-radius:%?40?%;margin:0 auto;margin-bottom:%?55?%;background-color:#fff;color:#fff;line-height:%?80?%;font-size:%?32?%}.select_spec[data-v-ccb90de0]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.btn-checked[data-v-ccb90de0]{border:1px solid #f6220c;border-radius:6px;color:#f6220c;font-size:%?26?%;background-color:#fff}.btn-checke[data-v-ccb90de0]{border:%?1?% solid #d9d9d9;border-radius:%?6?%;font-size:%?26?%;color:#333;background-color:#fff}',""]),t.exports=e},"2e1b":function(t,e,i){"use strict";i.r(e);var a=i("ea54"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a},"2eaf":function(t,e,i){"use strict";i("4d63"),i("ac1f"),i("25f0"),Object.defineProperty(e,"__esModule",{value:!0}),e.judgeSelect=void 0;var a=function(t,e,i,a){for(var o=0,s=t.length;o<s;o++)for(var r=0;r<t[o].spec_items.length;r++){var c=t[o].spec_items[r];o!=e&&(c.disabled=n(o,c.item_id,i,a))}};function n(t,e,i,a){for(var n=!1,o="",s=0;s<i.length;s++)s!=t?null!=i[s]?o+=i[s]+"_":o+="[0-9]*_":o+=e+"_";o=o.substr(0,o.length-1);for(var r=new RegExp(o,"g"),c=0;c<a.length;c++){var u=a[c].join("_");if(n=r.test(u),n)break}return!n}e.judgeSelect=a},"328a":function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return a}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.openRule,expression:"openRule"}],staticClass:"rule-detail-wrap"},[i("v-uni-view",{staticClass:"rule-bg",class:t.openRule?"active":"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.closeRule.apply(void 0,arguments)}}}),i("v-uni-view",{staticClass:"rule-content",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e)}}},[i("v-uni-view",{staticClass:"title pr"},[i("v-uni-text",{},[t._v("活动规则")]),i("v-uni-text",{staticClass:"iconfont icon-guanbi",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.closeRule.apply(void 0,arguments)}}})],1),i("v-uni-view",{staticClass:"content",domProps:{innerHTML:t._s(t.setting.bargain_rules)}})],1)],1)},o=[]},"38f6":function(t,e,i){var a=i("25da");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("077f2ca6",a,!0,{sourceMap:!1,shadowMode:!1})},"4c87":function(t,e,i){"use strict";i.r(e);var a=i("8d4a"),n=i("2e1b");for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);i("fe7a");var s,r=i("f0c5"),c=Object(r["a"])(n["default"],a["b"],a["c"],!1,null,"ccb90de0",null,!1,a["a"],s);e["default"]=c.exports},"577d":function(t,e,i){"use strict";i.r(e);var a=i("87a8"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a},"5a3c":function(t,e,i){"use strict";i("e25e"),i("ac1f"),i("5319"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={data:function(){return{status:0,day:"0",hour:"0",minute:"0",second:"0",timer:null,totalSeconds:0,title:"活动剩余："}},props:{config:{type:Object,default:function(){return{type:"all"}}}},created:function(){},watch:{config:{deep:!0,handler:function(t,e){t!=e&&0!=t.endstamp&&(t.title&&"undefined"!=typeof t.title&&(this.title=t.title),this.setTime())},immediate:!0}},methods:{setTime:function(){var t=this;t.timer=setInterval((function(){t.init()}),1e3)},init:function(){var t=Date.now()/1e3;t<this.config.startstamp?this.status=1:t>this.config.endstamp?this.status=2:(this.totalSeconds=parseInt(this.config.endstamp-t),this.status=0,this.countDown()),this.$emit("returnVal",this.status)},countDown:function(){var t=this.totalSeconds,e=Math.floor(t/86400),i=t%86400,a=Math.floor(i/3600);i%=3600;var n=Math.floor(i/60),o=i%60;this.day=this.convertTwo(e),this.hour=this.convertTwo(a),this.minute=this.convertTwo(n),this.second=this.convertTwo(o),this.totalSeconds--},convertTwo:function(t){var e="";return e=t<10?"0"+t:t,e},getLocalTime:function(t){return new Date(1e3*parseInt(t)).toLocaleString().replace(/:\d{1,2}$/," ")},clear:function(){console.log(1),clearInterval(this.timer),this.timer=null}},destroyed:function(){clearInterval(this.timer)}};e.default=a},"5bfd":function(t,e,i){"use strict";var a=i("afde"),n=i.n(a);n.a},"87a8":function(t,e,i){"use strict";var a=i("4ea4");i("4160"),i("d81d"),i("a434"),i("a9e3"),i("ac1f"),i("5319"),i("1276"),i("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("ea0f")),o=a(i("563b")),s=a(i("4c87")),r=a(i("d27c")),c=a(i("49ae")),u=a(i("9ad7")),d={components:{Spec:s.default,Rule:r.default,countdown:n.default,Mpservice:o.default,guarantee:u.default},data:function(){return{phoneHeight:0,scrollviewHigh:0,loadding:!0,indicatorDots:!0,autoplay:!0,interval:2e3,duration:500,countdownConfig:{title:"",startstamp:0,endstamp:0},detail:{product_sku:{},show_sku:{product_price:"",product_sku_id:0,line_price:"",stock_num:0,sku_image:""},show_point_sku:{}},alreadyChioce:"",setting:{},isPopup:!1,specData:null,productModel:{},productSpecArr:[],isRule:!1,productSku:[],isMpservice:!1,serverList:"",isguarantee:!1,shop_info:{},store_open:1}},onLoad:function(t){uni.showLoading({title:"加载中"}),this.type_active=0,this.bargain_product_id=t.bargain_product_id},mounted:function(){this.init(),this.getData()},methods:{init:function(){var t=this;uni.getSystemInfo({success:function(e){t.phoneHeight=e.windowHeight;var i=uni.createSelectorQuery().select(".btns-wrap");i.boundingClientRect((function(e){var i=t.phoneHeight-e.height;t.scrollviewHigh=i})).exec()}})},getData:function(){var t=this,e=t.bargain_product_id;t._get("plus.bargain.product/detail",{bargain_product_id:e,url:""},(function(e){t.countdownConfig.startstamp=e.data.active.start_time,t.countdownConfig.endstamp=e.data.active.end_time,e.data.detail.product.content=c.default.format_content(e.data.detail.product.content),20==e.data.detail.product.spec_type&&t.initSpecData(e.data.detail.bargainSku,e.data.specData),t.setting=e.data.setting,t.detail=e.data.detail,t.shop_info=e.data.detail.supplier,t.getServer(),t.loadding=!1,uni.hideLoading()}))},confirm:function(){this.$refs.countdown.clear()},getServer:function(){var t=this,e=[];t.detail.server&&(t.detail.server.forEach((function(t,i){e.push(t.name)})),t.serverList=e.join("·"))},closeGuarantee:function(){this.isguarantee=!1},showGuarantee:function(){this.isguarantee=!0},initSpecData:function(t,e){for(var i=this,a=0;a<t.length;a++){var n=t[a];if(n.productSku){var o=n.productSku.spec_sku_id.split("_").map(Number);this.productSku.push(o)}}for(var s in e.spec_attr)for(var r=0;r<e.spec_attr[s].spec_items.length;r++){var c=e.spec_attr[s].spec_items[r];this.hasSpec(c.item_id,s)?(c.checked=!1,c.disabled=!1):(e.spec_attr[s].spec_items.splice(r,1),r--)}this.specData=e,this.specData.spec_attr&&(this.specData.spec_attr.forEach((function(t){i.alreadyChioce+=t.group_name,i.alreadyChioce+=" / "})),this.alreadyChioce=this.alreadyChioce.replace(/(\s\/\s)$/gi,""))},hasSpec:function(t,e){for(var i=!1,a=0;a<this.productSku.length;a++){var n=this.productSku[a];if(n[e]==t){i=!0;break}}return i},openPopup:function(t){var e={specData:this.specData,detail:this.detail,productSpecArr:null!=this.specData?new Array(this.specData.spec_attr.length):[],show_sku:{sku_image:"",bargain_price:0,product_sku_id:0,line_price:0,bargain_stock:0,bargain_product_sku_id:0,sum:1},productSku:this.productSku,type:t};this.productModel=e,this.isPopup=!0},closePopup:function(t,e){if(this.isPopup=!1,t&&t.spec_attr){this.alreadyChioce="";var i="已选：",a="";t.spec_attr.forEach((function(t){if(t.spec_items){for(var e="",n=0;n<t.spec_items.length;n++){var o=t.spec_items[n];if(o.checked){e=o.spec_value+" / ";break}}""!=e?i+=e:a+=t.group_name}})),""!=a?this.alreadyChioce=a:(i=i.replace(/(\s\/\s)$/gi,""),this.alreadyChioce=i)}e&&(this.cart_total_num=e)},openMaservice:function(){this.isMpservice=!0},closeMpservice:function(){this.isMpservice=!1},gotoProducntDetail:function(){this.gotoPage("/pages/product/detail/detail?product_id="+this.detail.product_id)},openRule:function(){this.isRule=!0},closeRule:function(){this.isRule=!1},returnValFunc:function(){},goto_shop:function(){var t=this;t.gotoPage("/pages/shop/shop?shop_supplier_id="+t.detail.supplier.shop_supplier_id)}}};e.default=d},"8d4a":function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return a}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{class:t.Visible?"product-popup open":"product-popup close",on:{touchmove:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e)},click:function(e){arguments[0]=e=t.$handleEvent(e),t.closePopup.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"popup-bg"}),i("v-uni-view",{staticClass:"main",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e)}}},[i("v-uni-view",{staticClass:"header"},[i("v-uni-image",{staticClass:"avt",attrs:{src:t.form.show_sku.sku_image,mode:"aspectFit"}}),i("v-uni-view",{staticClass:"price d-s-c"},[null==t.form.specData||t.isAll?[i("v-uni-text",[t._v("¥")]),i("v-uni-text",{staticClass:"num fb"},[t._v(t._s(t.form.show_sku.bargain_price))]),i("v-uni-text",{staticClass:"old-price"},[t._v("¥"+t._s(t.form.show_sku.line_price))])]:[i("v-uni-text",{staticClass:"f22"},[t._v("¥")]),i("v-uni-text",{staticClass:"f40 fb"},[t._v(t._s(t.form.detail.bargain_price))])]],2),i("v-uni-view",{staticClass:"stock"},[t._v("库存："+t._s(t.form.show_sku.bargain_stock))]),i("v-uni-view",{staticClass:"p-20-0 select_spec"},[t._v(t._s(t.selectSpec))]),i("v-uni-view",{staticClass:"close-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.closePopup.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"icon iconfont icon-guanbi"})],1)],1),i("v-uni-view",{staticClass:"body"},[null!=t.form.specData?i("v-uni-view",[null!=t.form.specData?i("v-uni-scroll-view",{staticClass:"specs mt20",staticStyle:{"max-height":"600rpx"},attrs:{"scroll-y":"true"}},t._l(t.form.specData.spec_attr,(function(e,a){return i("v-uni-view",{key:a,staticClass:"specs mt20"},[i("v-uni-view",{staticClass:"specs-hd p-20-0"},[i("v-uni-text",{staticClass:"f24 gray9"},[t._v(t._s(e.group_name))]),null==t.form.productSpecArr[a]?i("v-uni-text",{staticClass:"ml10 red"},[t._v("请选择"+t._s(e.group_name))]):t._e()],1),i("v-uni-view",{staticClass:"specs-list"},t._l(e.spec_items,(function(e,n){return i("v-uni-button",{key:n,class:e.checked?"btn-checked":"btn-checke",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.selectAttr(a,n)}}},[t._v(t._s(e.spec_value))])})),1)],1)})),1):t._e()],1):t._e(),i("v-uni-view",{staticClass:"level-box count_choose"},[i("v-uni-text",{staticClass:"key"},[t._v("数量")]),i("v-uni-view",{staticClass:"d-s-c"},[i("v-uni-view",{staticClass:"icon-box minus d-c-c",class:{"num-wrap":!t.issub},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.sub()}}},[i("v-uni-text",{staticClass:"icon iconfont icon-jian",staticStyle:{"font-size":"20rpx",color:"#333333"}})],1),i("v-uni-view",{staticClass:"text-wrap"},[i("v-uni-input",{attrs:{type:"text",value:""},model:{value:t.form.show_sku.sum,callback:function(e){t.$set(t.form.show_sku,"sum",e)},expression:"form.show_sku.sum"}})],1),i("v-uni-view",{staticClass:"icon-box plus d-c-c",class:{"num-wrap":!t.isadd},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.add()}}},[i("v-uni-text",{staticClass:"icon iconfont icon-jia",staticStyle:{"font-size":"20rpx",color:"#333333"}})],1)],1)],1)],1),i("v-uni-view",{staticClass:"btns white"},[i("v-uni-button",{staticClass:"confirm-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.confirmFunc(t.form)}}},[t._v("确认")])],1)],1)],1)},o=[]},"8efb":function(t,e,i){"use strict";i.r(e);var a=i("e37b"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a},"8f6d":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,".rule-detail-wrap[data-v-47d0f60c]{position:fixed;top:0;bottom:0;left:0;right:0;width:100%;z-index:999}.rule-detail-wrap .rule-bg[data-v-47d0f60c]{position:absolute;top:0;bottom:0;left:0;right:0;background-color:#000;opacity:0;transition:all .3s ease-out}.rule-detail-wrap .rule-bg.active[data-v-47d0f60c]{opacity:.8}.rule-detail-wrap .rule-content[data-v-47d0f60c]{position:absolute;bottom:0;left:0;right:0;background-color:#fff;border-top-left-radius:%?20?%;border-top-right-radius:%?20?%;transition:all .3s ease-out;box-sizing:border-box}.rule-detail-wrap .rule-content .title[data-v-47d0f60c]{height:%?100?%;display:flex;align-items:center;justify-content:center;font-size:%?32?%;position:relative;color:#333;box-sizing:border-box}.rule-detail-wrap .rule-content .iconfont[data-v-47d0f60c]{position:absolute;right:%?20?%;top:%?20?%}.rule-detail-wrap .rule-content .content[data-v-47d0f60c]{padding:%?30?%;max-height:%?600?%;font-size:%?28?%;line-height:150%;overflow-y:auto}",""]),t.exports=e},"9bb1":function(t,e,i){"use strict";var a=i("bd4e"),n=i.n(a);n.a},afde:function(t,e,i){var a=i("8f6d");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("fb7c1be8",a,!0,{sourceMap:!1,shadowMode:!1})},bb9f:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */\r\n/* start--主题色--start */\r\n/* end--主题色--end */.countdown .box[data-v-18ed4ace]{display:inline-block;padding:%?4?%;\r\n  /* width: 34rpx; */border-radius:%?8?%;background:#fff;text-align:center;color:#fff}',""]),t.exports=e},bd4e:function(t,e,i){var a=i("c001");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("59be7efa",a,!0,{sourceMap:!1,shadowMode:!1})},c001:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */\r\n/* start--主题色--start */\r\n/* end--主题色--end */.bargain-detail[data-v-1292ff46]{padding-bottom:%?90?%}.bargain-detail .product-pic[data-v-1292ff46],\r\n.bargain-detail .product-pic .swiper[data-v-1292ff46],\r\n.bargain-detail .product-pic uni-image[data-v-1292ff46]{width:%?750?%;height:%?750?%}.bargain-detail .price-wrap[data-v-1292ff46]{display:flex;justify-content:space-between;align-items:center}.bargain-detail .price-wrap .left[data-v-1292ff46]{display:flex;justify-content:flex-start;align-items:flex-end}.bargain-detail .price-wrap .new-price[data-v-1292ff46]{color:#f6220c;font-size:%?30?%}.bargain-detail .price-wrap .new-price .num[data-v-1292ff46]{padding:0 %?4?%;font-size:%?40?%}.bargain-detail .price-wrap .old-price[data-v-1292ff46]{margin-left:%?10?%;font-size:%?24?%;color:#999;text-decoration:line-through}.bargain-detail .product-name[data-v-1292ff46]{padding:%?20?% 0;font-size:%?32?%;font-weight:700;color:#333}.bargain-detail .product-describe[data-v-1292ff46]{padding:%?20?%;font-size:%?24?%;color:#999}.product-comment[data-v-1292ff46],\r\n.product-content[data-v-1292ff46]{margin-top:%?20?%;background:#fff}.product-content .content-box p uni-image[data-v-1292ff46]{width:100%}.product-content .content-box[data-v-1292ff46]{font-size:%?36?%}.btns-wrap[data-v-1292ff46]{position:fixed;height:%?100?%;right:0;bottom:0;left:0;display:flex;background:#fff;align-items:center}.btns-wrap .icon-box[data-v-1292ff46]{width:%?90?%;height:%?90?%}.btns-wrap .icon-box .iconfont[data-v-1292ff46]{font-size:%?40?%;color:#888}.btns-wrap .customer-service uni-button[data-v-1292ff46]{height:%?80?%}.btns-wrap uni-button[data-v-1292ff46],\r\n.btns-wrap uni-button[data-v-1292ff46]:after{padding:0;margin:0;height:%?30?%;line-height:%?30?%;margin:0;padding:0;flex:1;border-radius:0;border:0}.btns-wrap .buy-alone[data-v-1292ff46]{width:%?220?%;height:%?80?%;border-top-left-radius:%?40?%;border-bottom-left-radius:%?40?%;margin-left:%?10?%}.btns-wrap .make-group[data-v-1292ff46]{width:%?220?%;height:%?80?%;border-top-right-radius:%?40?%;border-bottom-right-radius:%?40?%;margin-right:%?10?%}.btns-wrap .buy-alone uni-button[data-v-1292ff46],\r\n.btns-wrap .make-group uni-button[data-v-1292ff46]{font-size:%?26?%;background:none}.btns-wrap .buy-alone[data-v-1292ff46],\r\n.btns-wrap .buy-alone uni-button[data-v-1292ff46]{background:#f6ac0c}.btns-wrap .buy-alone uni-text[data-v-1292ff46],\r\n.btns-wrap .make-group uni-text[data-v-1292ff46]{color:#fff;font-size:%?32?%}.btns-wrap .make-group[data-v-1292ff46],\r\n.btns-wrap .make-group uni-button[data-v-1292ff46]{background:#8d60ff}.share-box[data-v-1292ff46]{position:fixed;padding-right:%?10?%;width:%?80?%;height:%?80?%;right:0;bottom:%?180?%;display:flex;justify-content:center;align-items:center;border-radius:%?16?% 0 0 %?16?%;background:rgba(0,0,0,.8)}.share-box uni-button[data-v-1292ff46]{padding:0;background:0;line-height:%?60?%}.share-box .iconfont[data-v-1292ff46]{margin-bottom:%?10?%;font-size:%?50?%;color:#fff}.create-img[data-v-1292ff46]{width:100%;padding:%?20?%;box-sizing:border-box}.create-img uni-image[data-v-1292ff46]{width:100%}.create-img uni-button[data-v-1292ff46]{width:100%}.limited-spike[data-v-1292ff46]{padding:0 %?35?%;height:%?60?%;color:#fff;border-radius:%?6?%;background:linear-gradient(0deg,#ebe3ff,#eee6ff)}.limited-spike .left-name[data-v-1292ff46]{font-size:%?24?%;color:#5c1cff}.limited-spike .right[data-v-1292ff46]{color:#5c1cff;font-size:%?24?%}.limited-spike .right[data-v-1292ff46] .box{height:%?40?%;padding:%?4?%;border-radius:%?8?%;line-height:%?40?%;text-align:center;background:#ebe3ff;color:#5c1cff}.limited-spike .right[data-v-1292ff46] uni-text{padding:0}.already-choice[data-v-1292ff46]{margin-top:%?20?%;padding:0 %?30?%;background:#fff}.already-choice .center-content[data-v-1292ff46]{line-height:%?90?%}.shop_head_info[data-v-1292ff46]{margin:%?20?%;padding:%?30?%;box-sizing:border-box;background-color:#fff;border-radius:%?12?%}.shop_list_body_item_shop[data-v-1292ff46]{width:100%;height:%?120?%;display:flex;justify-content:space-between}.shop_list_body_item_shop_logo[data-v-1292ff46]{width:%?120?%;height:%?120?%}.shop_list_body_item_shop_logo uni-image[data-v-1292ff46]{width:100%;height:100%;background-color:rgba(0,0,0,.1);border-radius:%?12?%}.shop_list_body_item_shop_info[data-v-1292ff46]{box-sizing:border-box;margin-left:%?20?%;padding-top:0;display:flex;justify-content:space-between;flex-direction:column}.shop_list_body_item_shop_others[data-v-1292ff46]{box-sizing:border-box;display:flex;justify-content:space-between;flex-direction:column;text-align:right;padding-top:0}.shop_list_body_item_shop_others uni-button[data-v-1292ff46]{width:%?160?%;height:%?60?%;border:%?1?% solid #f6220c;border-radius:%?30?%;line-height:%?60?%;font-size:%?26?%;font-family:PingFang SC;font-weight:500;color:#f6220c;text-align:center;padding:0;background-color:#fff}.pro_nameline[data-v-1292ff46]{width:%?4?%;height:%?24?%;background-color:#f6220c;margin-right:%?12?%}',""]),t.exports=e},c20e:function(t,e,i){"use strict";i.r(e);var a=i("2516"),n=i("577d");for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);i("9bb1");var s,r=i("f0c5"),c=Object(r["a"])(n["default"],a["b"],a["c"],!1,null,"1292ff46",null,!1,a["a"],s);e["default"]=c.exports},d27c:function(t,e,i){"use strict";i.r(e);var a=i("328a"),n=i("8efb");for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);i("5bfd");var s,r=i("f0c5"),c=Object(r["a"])(n["default"],a["b"],a["c"],!1,null,"47d0f60c",null,!1,a["a"],s);e["default"]=c.exports},d7a7:function(t,e,i){"use strict";var a=i("f352"),n=i.n(a);n.a},e37b:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={data:function(){return{openRule:!1}},props:["isRule","setting"],watch:{isRule:function(t,e){t!=e&&(this.openRule=t)}},methods:{closeRule:function(){this.openRule=!1,this.$emit("close")}}};e.default=a},ea0f:function(t,e,i){"use strict";i.r(e);var a=i("19d8"),n=i("f508");for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);i("d7a7");var s,r=i("f0c5"),c=Object(r["a"])(n["default"],a["b"],a["c"],!1,null,"18ed4ace",null,!1,a["a"],s);e["default"]=c.exports},ea54:function(t,e,i){"use strict";i("7db0"),i("4160"),i("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i("2eaf"),n={data:function(){return{Visible:!1,form:{detail:{product_sku:{},show_sku:{},show_point_sku:{bargain_price:0}},show_sku:{sum:1}},stock:0,selectSpec:"",isAll:!1}},props:["isPopup","productModel"],onLoad:function(){},mounted:function(){},computed:{isadd:function(){return this.form.show_sku.sum>=this.stock||this.form.show_sku.sum>=this.form.detail.limit_num},issub:function(){return this.form.show_sku.sum<=1}},watch:{isPopup:function(t,e){var i=this;t!=e&&(this.Visible=t,this.isOpenSpec||(this.form=this.productModel,this.isOpenSpec=!0,this.initShowSku(),this.form.specData.spec_attr.forEach((function(t,e){i.selectAttr(e,0)}))),this.form.type=this.productModel.type)},"form.specData":{handler:function(t,e){var i=this,a="",n="";if(this.isAll=!0,t){for(var o=function(e){null==i.form.productSpecArr[e]?(i.isAll=!1,a+=t.spec_attr[e].group_name+" "):t.spec_attr[e].spec_items.forEach((function(t){i.form.productSpecArr[e]==t.item_id&&(n+='"'+t.spec_value+'" ')}))},s=0;s<t.spec_attr.length;s++)o(s);this.isAll?n="已选: "+n:a="请选择: "+a}this.selectSpec=this.isAll?n:a},deep:!0,immediate:!0}},methods:{closePopup:function(){this.$emit("close",this.form.specData,null)},confirmFunc:function(){null==this.form.specData||this.isAll?this.createdOrder():uni.showToast({title:"请选择规格",icon:"none",duration:2e3})},initShowSku:function(){this.form.show_sku.sku_image=this.form.detail.product.image[0].file_path,this.form.show_sku.bargain_price=this.form.detail.bargain_price,this.form.show_sku.product_sku_id=0,this.form.show_sku.line_price=this.form.detail.line_price,this.form.show_sku.bargain_stock=this.form.detail.stock,this.form.show_sku.bargain_product_sku_id=this.form.detail.bargainSku[0].bargain_product_sku_id,this.form.show_sku.sum=1,this.stock=this.form.detail.stock},selectAttr:function(t,e){var i=this,n=i.form.specData.spec_attr[t].spec_items,o=n[e];if(o.checked)o.checked=!1,i.form.productSpecArr[t]=null;else{for(var s=0;s<n.length;s++)n[s].checked=!1;o.checked=!0,i.form.productSpecArr[t]=o.item_id}(0,a.judgeSelect)(i.form.specData.spec_attr,t,i.form.productSpecArr,i.form.productSku);for(var r=!0,c=0;c<i.form.productSpecArr.length;c++){var u=i.form.productSpecArr[c];if(null==u)return r=!1,void i.initShowSku()}r?i.updateSpecProduct():i.initShowSku()},updateSpecProduct:function(){var t=this,e=t.form.productSpecArr.join("_"),i=t.form.specData.spec_list,a=i.find((function(t){return t.spec_sku_id==e}));if("object"===typeof a){var n=t.form.detail.bargainSku,o=n.find((function(t){return t.product_sku_id==a.product_sku_id}));t.stock=o.bargain_stock,t.form.show_sku.sum>t.stock&&(t.form.show_sku.sum=t.stock>0?t.stock:1),t.form.show_sku.product_sku_id=a.spec_sku_id,t.form.show_sku.bargain_price=o.bargain_price,t.form.show_sku.line_price=a.spec_form.product_price,t.form.show_sku.bargain_stock=o.bargain_stock,t.form.show_sku.bargain_product_sku_id=o.bargain_product_sku_id,a.spec_form.image_id>0?t.form.show_sku.sku_image=a.spec_form.image_path:t.form.show_sku.sku_image=t.form.detail.product.image[0].file_path}},createdOrder:function(){var t=this,e=t.form.detail.bargain_activity_id,i=t.form.detail.bargain_product_id,a=t.form.show_sku.bargain_product_sku_id,n=t.form.show_sku.product_sku_id;t.form.detail.product_id;t._get("plus.bargain.task/add",{bargain_activity_id:e,bargain_product_id:i,bargain_product_sku_id:a,product_sku_id:n},(function(e){t.$emit("confirm");var i=e.data.bargain_task_id;t.gotoPage("/pages/plus/bargain/haggle/haggle?bargain_task_id="+i+"&order_type=bargain")}))},add:function(){if(!(this.stock<=0))return this.form.show_sku.sum>=this.stock?(uni.showToast({title:"数量超过了库存",icon:"none",duration:2e3}),!1):this.form.show_sku.sum>=this.form.detail.limit_num?(uni.showToast({title:"数量超过了限购数量",icon:"none",duration:2e3}),!1):void this.form.show_sku.sum++},sub:function(){if(!(this.stock<=0))return this.form.show_sku.sum<2?(uni.showToast({title:"商品数量至少为1",icon:"none",duration:2e3}),!1):void this.form.show_sku.sum--}}};e.default=n},f352:function(t,e,i){var a=i("bb9f");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("633e3638",a,!0,{sourceMap:!1,shadowMode:!1})},f508:function(t,e,i){"use strict";i.r(e);var a=i("5a3c"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a},fe7a:function(t,e,i){"use strict";var a=i("38f6"),n=i.n(a);n.a}}]);